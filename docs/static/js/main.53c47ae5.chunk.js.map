{"version":3,"sources":["hooks/useVisible.js","components/CartItem.js","components/Cart.js","components/Nav.js","App.js","index.js","data/colors.js","Pages/Shop.js","constants/actionTypes.js","reducer/cartReducer.js","context/cartContext.js"],"names":["useVisible","initialIsVisible","useState","isVisible","setIsVisible","ref","useRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","CartItem","i","deleteItemCart","useContext","cartContext","className","color","name","qty","onClick","Cart","cartItems","getPrice","reduce","acc","cur","price","length","map","Nav","src","alt","id","aria-haspopup","role","aria-orientation","aria-labelledby","require","default","Shop","App","ReactDOM","render","getElementById","items","addToCart","valueSearch","setValueSearch","newColors","setNewColors","onSubmit","e","preventDefault","type","placeholder","value","onChange","filter","c","includes","find","item","newCart","handleItemToCart","GET_CART","DELETE_ITEM_CART","cartReducer","state","action","payload","createContext","CartProvider","children","useReducer","dispatch","Provider"],"mappings":"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","file":"static/js/main.53c47ae5.chunk.js","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\n\r\n//Hook si haces click fuera del componente se cierra automaticamente.\r\nconst useVisible = (initialIsVisible) => {\r\n  const [isVisible, setIsVisible] = useState(initialIsVisible);\r\n  const ref = useRef(null);\r\n\r\n  const handleClickOutside = (event) => {\r\n    if (ref.current && !ref.current.contains(event.target)) {\r\n      setIsVisible(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClickOutside, true);\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClickOutside, true);\r\n    };\r\n  }, []);\r\n\r\n  return { ref, isVisible, setIsVisible };\r\n};\r\n\r\nexport default useVisible;\r\n","import React, { useContext } from \"react\";\r\nimport { cartContext } from \"../context/cartContext\";\r\n\r\nconst CartItem = ({ i }) => {\r\n  const { deleteItemCart } = useContext(cartContext);\r\n\r\n  const handleDelete = () => {\r\n    deleteItemCart(i);\r\n  };\r\n\r\n  return (\r\n    <li className=\"border-2 rounded px-1 py-1 flex flex-col my-1\">\r\n      <div className={`bg-${i.color} py-4 px-4`}></div>\r\n      {/* {`${i.name} - ${i.qty}`} */}\r\n      <div className=\"flex justify-between\">\r\n        <span>{`Color: ${i.name}`}</span>\r\n        <span>{`Quantity: ${i.qty}`}</span>\r\n      </div>\r\n\r\n      <button\r\n        className=\"self-end bg-red-500 py-2- px-2 rounded hover:bg-red-300\"\r\n        onClick={handleDelete}\r\n      >\r\n        X\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { useContext } from \"react\";\r\nimport { cartContext } from \"../context/cartContext\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = () => {\r\n  const { cartItems } = useContext(cartContext);\r\n\r\n  const getPrice = cartItems.reduce((acc, cur) => acc + cur.price * cur.qty, 0);\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <ul className=\"mx-2\">\r\n        {cartItems.length !== 0 ? (\r\n          cartItems.map((i) => {\r\n            return (\r\n              <div key={i.name}>\r\n                <CartItem i={i} />\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <p>No Items</p>\r\n        )}\r\n      </ul>\r\n\r\n      <p className=\"self-end mx-2\">{`Total price: ${getPrice}€`}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\n\r\n\r\nimport useVisible from \"../hooks/useVisible\";\r\nimport Cart from \"./Cart\";\r\n\r\nconst Nav = () => {\r\n  const { ref, isVisible, setIsVisible } = useVisible(false);\r\n\r\n  const handleOpenShop = () => {\r\n    setIsVisible(!isVisible);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"bg-gray-900 fixed top-0 w-screen z-20\">\r\n      <div className=\"px-6 lg:px-20\">\r\n        <div className=\"flex items-center justify-between h-16\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0\">\r\n              <img\r\n                className=\"h-8 w-8\"\r\n                src=\"https://www.flaticon.com/svg/static/icons/svg/183/183869.svg\"\r\n                alt=\"Workflow\"\r\n              />\r\n            </div>\r\n          \r\n          </div>\r\n          <div>\r\n            <div className=\"ml-4 flex items-center md:ml-6\">\r\n              <div className=\"ml-3 relative\">\r\n                <div>\r\n                  <button\r\n                    className=\"max-w-xs bg-red-300 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\"\r\n                    id=\"user-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleOpenShop}\r\n                  >\r\n                    <img\r\n                      className=\"h-8 w-8 rounded-sm\"\r\n                      src=\"https://image.flaticon.com/icons/png/512/126/126083.png\"\r\n                      alt=\"\"\r\n                    />\r\n                  </button>\r\n                </div>\r\n\r\n                {isVisible && (\r\n                  <div\r\n                    className={`origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 flex flex-col`}\r\n                    role=\"menu\"\r\n                    ref={ref}\r\n                    aria-orientation=\"vertical\"\r\n                    aria-labelledby=\"user-menu\"\r\n                  >\r\n                    <Cart />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import { CartProvider } from \"./context/cartContext\";\n\nconst { default: Nav } = require(\"./components/Nav\");\nconst { default: Shop } = require(\"./Pages/Shop\");\n\nfunction App() {\n  return (\n    <CartProvider>\n      <Nav />\n      <Shop />\n    </CartProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","export const items = [\r\n  { color: \"red-400\", price: 5, name: \"red\", qty: 1 },\r\n  { color: \"blue-300\", price: 10, name: \"blue\", qty: 1 },\r\n  { color: \"yellow-300\", price: 10, name: \"yellow\", qty: 1 },\r\n  { color: \"indigo-300\", price: 10, name: \"indigo\", qty: 1 },\r\n  { color: \"purple-300\", price: 5, name: \"purple\", qty: 1 },\r\n  { color: \"pink-300\", price: 4, name: \"pink\", qty: 1 },\r\n  { color: \"black\", price: 2, name: \"black\", qty: 1 },\r\n  { color: \"gray-50\", price: 2, name: \"light grey\", qty: 1 },\r\n  { color: \"gray-500\", price: 4, name: \" grey\", qty: 1 },\r\n];\r\n","import React, { useContext, useState } from \"react\";\r\nimport { cartContext } from \"../context/cartContext\";\r\nimport { items } from \"../data/colors\";\r\n\r\nconst Shop = () => {\r\n  const { addToCart, cartItems } = useContext(cartContext);\r\n  const [valueSearch, setValueSearch] = useState(\"\");\r\n  const [newColors, setNewColors] = useState(items);\r\n\r\n  const handleItemToCart = (i) => {\r\n    const colorExist = cartItems.find((item) => item.name === i.name);\r\n\r\n    if (colorExist) {\r\n      const newCart = cartItems.map((item) =>\r\n        item.name === i.name ? { ...item, qty: item.qty + 1 } : item\r\n      );\r\n      addToCart([...newCart]);\r\n    } else {\r\n      addToCart([...cartItems, i]);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValueSearch(e.target.value);\r\n    setNewColors(items.filter((c) => c.name.includes(e.target.value)));\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-container my-12 mx-auto px-4 md:px-12 \">\r\n      <form className=\"px-6 py-6\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\" Search\"\r\n          value={valueSearch}\r\n          onChange={handleChange}\r\n          className=\" border-2 border-black hover:bg-yellow-100\"\r\n        />\r\n      </form>\r\n      <div className=\"flex flex-wrap -mx-1 lg:-mx-4 align-middle justify-center\">\r\n        {newColors.length === 0 ? (\r\n          <div>\r\n            <h1 className=\"text-5xl \">No Colors</h1>\r\n            <h1 className=\"text-5xl py-5 px-20 transform rotate-90\">:(</h1>\r\n          </div>\r\n        ) : (\r\n          newColors.map((i) => (\r\n            <div\r\n              className=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\"\r\n              key={i.name}\r\n            >\r\n              <article className=\"overflow-hidden rounded-lg shadow-lg mx-2 my-2 \">\r\n                <div className={`bg-${i.color} py-20 px-20`}></div>\r\n                <header className=\"flex items-center justify-between leading-tight p-2 md:p-4\">\r\n                  <h1 className=\"text-lg\">\r\n                    <p\r\n                      className={`no-underline hover:text-${i.color} text-black`}\r\n                    >\r\n                      {i.name}\r\n                    </p>\r\n                  </h1>\r\n                  <p className=\"text-gray-700 text-md\">{i.price}€</p>\r\n                </header>\r\n\r\n                <footer className=\"flex items-center justify-between leading-none p-2 md:p-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      handleItemToCart(i);\r\n                    }}\r\n                    className=\"inline-block animate-bounce px-6 py-2 text-xs font-medium leading-6 text-center text-white uppercase transition bg-blue-700 rounded shadow ripple hover:shadow-lg hover:bg-blue-800 focus:outline-none\"\r\n                  >\r\n                    Buy\r\n                  </button>\r\n                </footer>\r\n              </article>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","export const GET_CART = \"GET_CART\";\r\nexport const DELETE_ITEM_CART = \"DELETE_ITEM_CART\";\r\n","import { DELETE_ITEM_CART, GET_CART } from \"../constants/actionTypes\";\r\n\r\nexport const cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case GET_CART:\r\n      return {\r\n        ...state,\r\n        cartItems: action.payload,\r\n      };\r\n      case DELETE_ITEM_CART:\r\n        return {...state, cartItems: state.cartItems.filter((item) => item !== action.payload)}\r\n\r\n    default:\r\n      break;\r\n  }\r\n};\r\n","import React, { useReducer } from \"react\";\r\nimport { createContext } from \"react\";\r\nimport { DELETE_ITEM_CART, GET_CART } from \"../constants/actionTypes\";\r\nimport { cartReducer } from \"../reducer/cartReducer\";\r\n\r\nexport const cartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const initialState = {\r\n    cartItems: [],\r\n  };\r\n  const [state, dispatch] = useReducer(cartReducer, initialState);\r\n\r\n  const addToCart = (item) => {\r\n    dispatch({\r\n      type: GET_CART,\r\n      payload: item,\r\n    });\r\n  };\r\n\r\n  const deleteItemCart = (item) => {\r\n    dispatch({\r\n      type: DELETE_ITEM_CART,\r\n      payload: item,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <cartContext.Provider\r\n      value={{ cartItems: state.cartItems, addToCart, deleteItemCart }}\r\n    >\r\n      {children}\r\n    </cartContext.Provider>\r\n  );\r\n};\r\n"],"sourceRoot":""}